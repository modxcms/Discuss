<?xml version="1.0" encoding="UTF-8"?>
<model package="discuss" baseClass="xPDOObject" platform="mysql" defaultEngine="MyISAM" version="1.1">
    <!--
    <object class="disBanGroup" table="discuss_ban_groups" extends="xPDOSimpleObject">
        <field key="name" dbtype="varchar" precision="100" phptype="string" null="false" default="" />
        <field key="ip" dbtype="varchar" precision="20" phptype="string" null="false" default="" index="index" />
        <field key="reason" dbtype="text" phptype="string" null="false" default="" />
        <field key="createdon" dbtype="datetime" phptype="datetime" null="false" />
        <field key="createdby" dbtype="integer" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="expires" dbtype="int" precision="10" phptype="integer" null="false" default="0" />
        
        <field key="prevent_access" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" />
        <field key="prevent_register" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" />
        <field key="prevent_login" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" />
        <field key="prevent_post" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" />
        
        <aggregate alias="CreatedBy" class="disUser" local="createdby" foreign="id" cardinality="one" owner="foreign" />
        <composite alias="BanItems" class="disBanItem" local="id" foreign="grp" cardinality="many" owner="local" />
    </object>
    
    <object class="disBanItem" table="discuss_ban_items" extends="xPDOSimpleObject">
        <field key="grp" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="user" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="email" dbtype="varchar" precision="100" phptype="string" null="false" default="" index="index" />
        <field key="ip" dbtype="varchar" precision="100" phptype="string" null="false" default="" />
        <field key="hostname" dbtype="varchar" precision="100" phptype="string" null="false" default="" />
        <field key="hits" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        
        <aggregate alias="BanGroup" class="disBanGroup" local="grp" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="User" class="disUser" local="user" foreign="id" cardinality="one" owner="foreign" />
    </object>
    -->
    
    <object class="disBoard" table="discuss_boards" extends="xPDOSimpleObject">
        <field key="category" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="parent" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="name" dbtype="varchar" precision="255" phptype="string" default="" null="false" index="index" />
        <field key="description" dbtype="text" phptype="string" null="false" default="" />
        <field key="last_post" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="num_topics" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="num_replies" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="total_posts" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="ignoreable" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="1" index="index" />
        <field key="rank" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="map" dbtype="varchar" precision="255" phptype="string" null="false" default="" />
        <field key="minimum_post_level" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="9999" index="index" />
        <field key="status" dbtype="integer" precision="4" phptype="integer" attributes="unsigned" null="false" default="1" index="index" />
        <field key="locked" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" index="index" />
        <field key="integrated_id" dbtype="integer" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="rtl" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" index="index" />

        <index alias="category" name="category" primary="false" unique="false" type="BTREE">
            <column key="category" length="" collation="A" null="false" />
        </index>
        <index alias="parent" name="parent" primary="false" unique="false" type="BTREE">
            <column key="parent" length="" collation="A" null="false" />
        </index>
        <index alias="name" name="name" primary="false" unique="false" type="BTREE">
            <column key="name" length="" collation="A" null="false" />
        </index>
        <index alias="last_post" name="last_post" primary="false" unique="false" type="BTREE">
            <column key="last_post" length="" collation="A" null="false" />
        </index>
        <index alias="num_topics" name="num_topics" primary="false" unique="false" type="BTREE">
            <column key="num_topics" length="" collation="A" null="false" />
        </index>
        <index alias="num_replies" name="num_replies" primary="false" unique="false" type="BTREE">
            <column key="num_replies" length="" collation="A" null="false" />
        </index>
        <index alias="total_posts" name="total_posts" primary="false" unique="false" type="BTREE">
            <column key="total_posts" length="" collation="A" null="false" />
        </index>
        <index alias="ignoreable" name="ignoreable" primary="false" unique="false" type="BTREE">
            <column key="ignoreable" length="" collation="A" null="false" />
        </index>
        <index alias="rank" name="rank" primary="false" unique="false" type="BTREE">
            <column key="rank" length="" collation="A" null="false" />
        </index>
        <index alias="minimum_post_level" name="minimum_post_level" primary="false" unique="false" type="BTREE">
            <column key="minimum_post_level" length="" collation="A" null="false" />
        </index>
        <index alias="status" name="status" primary="false" unique="false" type="BTREE">
            <column key="status" length="" collation="A" null="false" />
        </index>
        <index alias="locked" name="locked" primary="false" unique="false" type="BTREE">
            <column key="locked" length="" collation="A" null="false" />
        </index>
        <index alias="rtl" name="rtl" primary="false" unique="false" type="BTREE">
            <column key="rtl" length="" collation="A" null="false" />
        </index>

        <aggregate alias="Category" class="disCategory" local="category" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Parent" class="disBoard" local="parent" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Children" class="disBoard" local="id" foreign="parent" cardinality="many" owner="local" />
        <composite alias="Moderators" class="disModerator" local="id" foreign="board" cardinality="many" owner="local" />
        <composite alias="UserGroups" class="disBoardUserGroup" local="id" foreign="board" cardinality="many" owner="local" />
        <composite alias="Ancestors" class="disBoardClosure" local="id" foreign="ancestor" cardinality="many" owner="local" />
        <composite alias="Descendants" class="disBoardClosure" local="id" foreign="descendant" cardinality="many" owner="local" />
        <composite alias="Posts" class="disPost" local="id" foreign="board" cardinality="many" owner="local" />
        <composite alias="Reads" class="disThreadRead" local="id" foreign="board" cardinality="many" owner="local" />
        <aggregate alias="LastPost" class="disPost" local="last_post" foreign="id" cardinality="many" owner="foreign" />
        <composite alias="Notifications" class="disUserNotification" local="id" foreign="board" cardinality="many" owner="local" />
    </object>
    
    <object class="disBoardClosure" table="discuss_boards_closure" extends="xPDOObject">
        <field key="ancestor" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="pk" />
        <field key="descendant" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="pk" />
        <field key="depth" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        
        <aggregate alias="Ancestor" class="disBoard" local="ancestor" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Descendant" class="disBoard" local="descendant" foreign="id" cardinality="one" owner="foreign" />
    </object>
    
    <object class="disBoardUserGroup" table="discuss_board_usergroups" extends="xPDOSimpleObject">
        <field key="usergroup" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="board" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />

        <index alias="usergroup" name="usergroup" primary="false" unique="false" type="BTREE">
            <column key="usergroup" length="" collation="A" null="false" />
        </index>
        <index alias="board" name="board" primary="false" unique="false" type="BTREE">
            <column key="board" length="" collation="A" null="false" />
        </index>
                
        <aggregate alias="Board" class="disBoard" local="board" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="UserGroup" class="modUserGroup" local="usergroup" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="UserGroupProfile" class="disUserGroupProfile" local="usergroup" foreign="usergroup" cardinality="one" owner="foreign" />
    </object>
    
    <object class="disCategory" table="discuss_categories" extends="xPDOSimpleObject">
        <field key="name" dbtype="varchar" precision="255" phptype="string" default="" null="false" index="index" />
        <field key="description" dbtype="text" phptype="string" default="" null="false" />
        <field key="collapsible" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="1" />
        <field key="rank" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="default_moderators" dbtype="text" phptype="string" />
        <field key="default_usergroups" dbtype="text" phptype="string" />
        <field key="integrated_id" dbtype="integer" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />

        <index alias="name" name="name" primary="false" unique="false" type="BTREE">
            <column key="name" length="" collation="A" null="false" />
        </index>
        
        <composite alias="Boards" class="disBoard" local="id" foreign="category" cardinality="many" owner="local" />
    </object>
    
    <object class="disModerator" table="discuss_moderators" extends="xPDOSimpleObject">
        <field key="user" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="board" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />

        <index alias="user" name="user" primary="false" unique="false" type="BTREE">
            <column key="user" length="" collation="A" null="false" />
        </index>
        <index alias="board" name="board" primary="false" unique="false" type="BTREE">
            <column key="board" length="" collation="A" null="false" />
        </index>
        
        <aggregate alias="User" class="disUser" local="user" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Board" class="disBoard" local="board" foreign="id" cardinality="one" owner="foreign" />
    </object>

    <object class="disThread" table="discuss_threads" extends="xPDOSimpleObject">
        <field key="class_key" dbtype="varchar" precision="120" phptype="string" null="false" default="disThreadDiscussion" index="index" />
        <field key="board" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="title" dbtype="varchar" precision="255" phptype="string" null="false" default="" index="index" />
        <field key="post_first" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="post_last" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="post_last_on" dbtype="int" precision="11" phptype="timestamp" null="false" default="0" index="index" />
        <field key="author_first" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="author_last" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />

        <field key="replies" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="views" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="locked" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="answered" dbtype="tinyint" precision="1" phptype="boolean" null="false" default="0" index="index" />
        <field key="sticky" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="private" dbtype="tinyint" precision="1" phptype="boolean" null="false" default="0" index="index" />
        <field key="users" dbtype="mediumtext" phptype="string" null="true" default="" />
        <field key="last_view_ip" dbtype="varchar" precision="120" phptype="string" null="false" default="" />
        <field key="integrated_id" dbtype="integer" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="participants" dbtype="text" phptype="string" null="false" default="" />

        <index alias="class_key" name="class_key" primary="false" unique="false" type="BTREE">
            <column key="class_key" length="" collation="A" null="false" />
        </index>
        <index alias="board" name="board" primary="false" unique="false" type="BTREE">
            <column key="board" length="" collation="A" null="false" />
        </index>
        <index alias="title" name="title" primary="false" unique="false" type="BTREE">
            <column key="title" length="" collation="A" null="false" />
        </index>
        <index alias="post_first" name="post_first" primary="false" unique="false" type="BTREE">
            <column key="post_first" length="" collation="A" null="false" />
        </index>
        <index alias="post_last" name="post_last" primary="false" unique="false" type="BTREE">
            <column key="post_last" length="" collation="A" null="false" />
        </index>
        <index alias="post_last_on" name="post_last_on" primary="false" unique="false" type="BTREE">
            <column key="post_last_on" length="" collation="A" null="false" />
        </index>
        <index alias="author_first" name="author_first" primary="false" unique="false" type="BTREE">
            <column key="author_first" length="" collation="A" null="false" />
        </index>
        <index alias="author_last" name="author_last" primary="false" unique="false" type="BTREE">
            <column key="author_last" length="" collation="A" null="false" />
        </index>
        <index alias="replies" name="replies" primary="false" unique="false" type="BTREE">
            <column key="replies" length="" collation="A" null="false" />
        </index>
        <index alias="views" name="views" primary="false" unique="false" type="BTREE">
            <column key="views" length="" collation="A" null="false" />
        </index>
        <index alias="locked" name="locked" primary="false" unique="false" type="BTREE">
            <column key="locked" length="" collation="A" null="false" />
        </index>
        <index alias="answered" name="answered" primary="false" unique="false" type="BTREE">
            <column key="answered" length="" collation="A" null="false" />
        </index>
        <index alias="sticky" name="sticky" primary="false" unique="false" type="BTREE">
            <column key="sticky" length="" collation="A" null="false" />
        </index>
        <index alias="private" name="private" primary="false" unique="false" type="BTREE">
            <column key="private" length="" collation="A" null="false" />
        </index>

        <aggregate alias="FirstAuthor" class="disUser" local="author_first" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="LastAuthor" class="disUser" local="author_last" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="FirstPost" class="disPost" local="post_first" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="LastPost" class="disPost" local="post_last" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Board" class="disBoard" local="board" foreign="id" cardinality="one" owner="foreign" />
        <composite alias="Reads" class="disThreadRead" local="id" foreign="thread" cardinality="many" owner="local" />
        <composite alias="Posts" class="disPost" local="id" foreign="thread" cardinality="many" owner="local" />
        <composite alias="Notifications" class="disUserNotification" local="id" foreign="thread" cardinality="many" owner="local" />
        <composite alias="Users" class="disThreadUser" local="id" foreign="thread" cardinality="many" owner="local" />
    </object>

    <object class="disThreadDiscussion" extends="disThread">

    </object>
    <object class="disThreadQuestion" extends="disThread">
    </object>

    <object class="disThreadRead" table="discuss_threads_read" extends="xPDOSimpleObject">
        <field key="user" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="board" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="thread" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />

        <index alias="user" name="user" primary="false" unique="false" type="BTREE">
            <column key="user" length="" collation="A" null="false" />
        </index>
        <index alias="board" name="board" primary="false" unique="false" type="BTREE">
            <column key="board" length="" collation="A" null="false" />
        </index>
        <index alias="thread" name="thread" primary="false" unique="false" type="BTREE">
            <column key="thread" length="" collation="A" null="false" />
        </index>

        <aggregate alias="User" class="disUser" local="user" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Board" class="disBoard" local="board" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Thread" class="disThread" local="thread" foreign="id" cardinality="one" owner="foreign" />
    </object>

    <!-- used for private messages -->
    <object class="disThreadUser" table="discuss_threads_users" extends="xPDOObject">
        <field key="thread" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="pk" />
        <field key="user" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="pk" />
        <field key="author" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" index="index" />

        <index alias="author" name="author" primary="false" unique="false" type="BTREE">
            <column key="author" length="" collation="A" null="false" />
        </index>
        
        <aggregate alias="User" class="disUser" local="user" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Thread" class="disThread" local="thread" foreign="id" cardinality="one" owner="foreign" />
    </object>
    
    <object class="disPost" table="discuss_posts" extends="xPDOSimpleObject">
        <field key="board" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="thread" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="parent" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="title" dbtype="varchar" precision="255" phptype="string" default="" null="false" index="fulltext" indexgrp="search" />
        <field key="message" dbtype="mediumtext" phptype="string" null="false" index="fulltext" indexgrp="search" />
        <field key="author" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="createdon" dbtype="datetime" phptype="datetime" null="true" index="index" />
        <field key="editedby" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" />
        <field key="editedon" dbtype="datetime" phptype="datetime" null="true" />
        <field key="icon" dbtype="varchar" precision="255" phptype="string" null="false" default="" />
        <field key="allow_replies" dbtype="tinyint" precision="1" phptype="boolean" null="false" default="1" index="index" />
        <field key="rank" dbtype="tinytext" phptype="string" null="true" />
        <field key="ip" dbtype="varchar" precision="255" phptype="string" null="false" default="0.0.0.0" />
        <field key="integrated_id" dbtype="integer" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="depth" dbtype="integer" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="answer" dbtype="tinyint" precision="1" phptype="boolean" null="false" default="0" index="index" />

        <index alias="board" name="board" primary="false" unique="false" type="BTREE">
            <column key="board" length="" collation="A" null="false" />
        </index>
        <index alias="thread" name="thread" primary="false" unique="false" type="BTREE">
            <column key="thread" length="" collation="A" null="false" />
        </index>
        <index alias="parent" name="parent" primary="false" unique="false" type="BTREE">
            <column key="parent" length="" collation="A" null="false" />
        </index>
        <index alias="author" name="author" primary="false" unique="false" type="BTREE">
            <column key="author" length="" collation="A" null="false" />
        </index>
        <index alias="createdon" name="createdon" primary="false" unique="false" type="BTREE">
            <column key="createdon" length="" collation="A" null="false" />
        </index>
        <index alias="allow_replies" name="allow_replies" primary="false" unique="false" type="BTREE">
            <column key="allow_replies" length="" collation="A" null="false" />
        </index>
        <index alias="depth" name="depth" primary="false" unique="false" type="BTREE">
            <column key="depth" length="" collation="A" null="false" />
        </index>
        <index alias="answer" name="answer" primary="false" unique="false" type="BTREE">
            <column key="answer" length="" collation="A" null="false" />
        </index>
        <index alias="search" name="search" primary="false" unique="false" type="FULLTEXT">
            <column key="title" length="" collation="A" null="false" />
            <column key="message" length="" collation="A" null="true" />
        </index>
        
        <aggregate alias="Board" class="disBoard" local="board" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Thread" class="disThread" local="thread" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Author" class="disUser" local="author" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="CreatedBy" class="disUser" local="author" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="EditedBy" class="disUser" local="editedby" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Parent" class="disPost" local="parent" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Children" class="disPost" local="id" foreign="parent" cardinality="many" owner="local" />
        <composite alias="Ancestors" class="disPostClosure" local="id" foreign="ancestor" cardinality="many" owner="local" />
        <composite alias="Descendants" class="disPostClosure" local="id" foreign="descendant" cardinality="many" owner="local" />
        <composite alias="Attachments" class="disPostAttachment" local="id" foreign="post" cardinality="many" owner="local" />
    </object>
    
    <object class="disPostAttachment" table="discuss_posts_attachments" extends="xPDOSimpleObject">
        <field key="post" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="board" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="filename" dbtype="varchar" precision="255" phptype="string" null="false" default="" />
        <field key="createdon" dbtype="datetime" phptype="datetime" null="true" />
        <field key="filesize" dbtype="int" precision="10" phptype="int" null="false" default="0" />
        <field key="downloads" dbtype="int" precision="10" phptype="int" null="false" default="0" />
        <field key="integrated_id" dbtype="integer" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="integrated_data" dbtype="text" phptype="string" null="true" />

        <index alias="post" name="post" primary="false" unique="false" type="BTREE">
            <column key="post" length="" collation="A" null="false" />
        </index>
        <index alias="board" name="board" primary="false" unique="false" type="BTREE">
            <column key="board" length="" collation="A" null="false" />
        </index>
        
        <aggregate alias="Post" class="disPost" local="post" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Board" class="disBoard" local="board" foreign="id" cardinality="one" owner="foreign" />
    </object>
    
    <object class="disPostClosure" table="discuss_posts_closure" extends="xPDOObject">
        <field key="ancestor" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="pk" />
        <field key="descendant" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="pk" />
        <field key="depth" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" /> 
        
        <aggregate alias="Ancestor" class="disPost" local="ancestor" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Descendant" class="disPost" local="descendant" foreign="id" cardinality="one" owner="foreign" />
    </object>
    
    <object class="disReservedUsername" table="discuss_reserved_usernames" extends="xPDOObject">
        <field key="name" dbtype="varchar" precision="100" phptype="string" null="false" default="" index="pk" />
        <field key="whole_match" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" />
        <field key="case_sensitive" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" />
        <field key="check_username" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" />
        <field key="check_realname" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" />
    </object>
    
    <object class="disSession" table="discuss_sessions" extends="xPDOObject">
        <field key="id" dbtype="varchar" precision="32" phptype="string" null="false" default="" index="pk" />
        <field key="user" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="access" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="startedon" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="ttl" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="3600" />
        <field key="place" dbtype="varchar" precision="255" phptype="string" null="false" default="" />
        <field key="data" dbtype="text" phptype="text" null="false" default="" />

        <index alias="user" name="user" primary="false" unique="false" type="BTREE">
            <column key="user" length="" collation="A" null="false" />
        </index>
        
        <aggregate alias="User" class="disUser" local="user" foreign="id" cardinality="one" owner="foreign" />
    </object>
    
    <!-- delayed until 1.1 -->
    <object class="disUserFriend" table="discuss_user_friends" extends="xPDOSimpleObject">
        <field key="user" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="friend" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />

        <index alias="user" name="user" primary="false" unique="false" type="BTREE">
            <column key="user" length="" collation="A" null="false" />
        </index>
        <index alias="friend" name="friend" primary="false" unique="false" type="BTREE">
            <column key="friend" length="" collation="A" null="false" />
        </index>
        
        <aggregate alias="User" class="disUser" local="user" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Friend" class="disUser" local="friend" foreign="id" cardinality="one" owner="foreign" />
    </object>
    
    <object class="disUserGroupProfile" table="discuss_usergroup_profiles" extends="xPDOSimpleObject">
        <field key="usergroup" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="post_based" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" />
        <field key="min_posts" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="color" dbtype="varchar" precision="20" phptype="string" null="false" default="" />
        <field key="image" dbtype="varchar" precision="255" phptype="string" null="false" default="" />
        <field key="integrated_id" dbtype="integer" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />

        <index alias="usergroup" name="usergroup" primary="false" unique="false" type="BTREE">
            <column key="usergroup" length="" collation="A" null="false" />
        </index>
        
        <aggregate alias="UserGroup" class="modUserGroup" local="usergroup" foreign="id" cardinality="one" owner="foreign" />
        <composite alias="Boards" class="disBoardUserGroup" local="usergroup" foreign="usergroup" cardinality="many" owner="local" />
    </object>

    <object class="disUser" table="discuss_users" extends="xPDOSimpleObject">
        <field key="user" dbtype="int" precision="11" phptype="integer" null="false" default="0" index="index" />
        <field key="username" dbtype="varchar" precision="120" phptype="string" null="false" default="" index="index" />
        <field key="password" dbtype="varchar" precision="120" phptype="string" null="false" default="" />
        <field key="email" dbtype="varchar" precision="200" phptype="string" null="false" default="" index="index" />
        <field key="ip"  dbtype="varchar" precision="120" phptype="string" null="false" default="0.0.0.0" />

        <field key="createdon" dbtype="datetime" phptype="datetime" null="true" />
        <field key="name_first" dbtype="varchar" precision="100" phptype="string" null="false" default="" />
        <field key="name_last" dbtype="varchar" precision="100" phptype="string" null="false" default="" />
        <field key="gender" dbtype="varchar" precision="10" phptype="string" null="false" default="" />
        <field key="birthdate" dbtype="date" phptype="date" null="false" />
        <field key="website" dbtype="varchar" precision="255" phptype="string" null="false" default="" />
        <field key="location" dbtype="varchar" precision="255" phptype="string" null="false" default="" />

        <field key="status" dbtype="tinyint" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="confirmed" dbtype="tinyint" precision="1" phptype="boolean" attributes="unsigned" null="false" default="0" />
        <field key="confirmedon" dbtype="datetime" phptype="datetime" null="true" />
        <field key="last_login" dbtype="datetime" phptype="datetime" null="true" />
        <field key="last_active" dbtype="datetime" phptype="datetime" null="true" index="index" />
        <field key="ignore_boards" dbtype="text" phptype="string" null="false" default="" />

        <field key="signature" dbtype="text" phptype="string" null="false" default="" />
        <field key="title" dbtype="varchar" precision="255" phptype="string" null="false" default="" />
        <field key="avatar" dbtype="mediumtext" phptype="string" null="false" default="" />
        <field key="avatar_service" dbtype="varchar" precision="255" phptype="string" null="false" default="gravatar" />

        <field key="thread_last_visited" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="posts" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="show_email" dbtype="tinyint" precision="1" phptype="boolean" null="false" default="1" />
        <field key="show_online" dbtype="tinyint" precision="1" phptype="boolean" null="false" default="1" />
        <field key="primary_group" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />

        <!-- these fields are used for SSO integration, or imports from other systems -->
        <field key="synced" dbtype="tinyint" precision="1" phptype="boolean" null="false" default="0" index="index" />
        <field key="source" dbtype="varchar" precision="20" phptype="string" null="false" default="internal" />
        <field key="syncedat" dbtype="datetime" phptype="datetime" null="true" />
        <field key="salt" dbtype="varchar" precision="255" phptype="string" null="false" default="" />
        <field key="integrated_id" dbtype="integer" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />

        <field key="display_name" dbtype="varchar" precision="255" phptype="string" null="false" default="" />
        <field key="use_display_name" dbtype="tinyint" precision="1" phptype="boolean" null="false" default="0" />

        <index alias="user" name="user" primary="false" unique="false" type="BTREE">
            <column key="user" length="" collation="A" null="false" />
        </index>
        <index alias="username" name="username" primary="false" unique="false" type="BTREE">
            <column key="username" length="" collation="A" null="false" />
        </index>
        <index alias="email" name="email" primary="false" unique="false" type="BTREE">
            <column key="email" length="" collation="A" null="false" />
        </index>
        <index alias="last_active" name="last_active" primary="false" unique="false" type="BTREE">
            <column key="last_active" length="" collation="A" null="false" />
        </index>
        <index alias="synced" name="synced" primary="false" unique="false" type="BTREE">
            <column key="synced" length="" collation="A" null="false" />
        </index>

        <aggregate alias="User" class="modUser" local="user" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="PrimaryGroup" class="modUserGroup" local="primary_group" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="PrimaryDiscussGroup" class="disUserGroupProfile" local="primary_group" foreign="usergroup" cardinality="one" owner="foreign" />
        <aggregate alias="ThreadLastVisited" class="disThread" local="thread_last_visited" foreign="id" cardinality="one" owner="foreign" />

        <composite alias="UserModerated" class="disUserModerated" local="id" foreign="user" cardinality="one" owner="local" />
        <composite alias="Posts" class="disPost" local="id" foreign="author" cardinality="many" owner="local" />
        <composite alias="Reads" class="disThreadRead" local="id" foreign="user" cardinality="many" owner="local" />
        <composite alias="Session" class="disSession" local="id" foreign="user" cardinality="one" owner="local" />
        <composite alias="Friends" class="disUserFriend" local="id" foreign="user" cardinality="many" owner="local" />
    </object>
    
    <object class="disUserModerated" table="discuss_user_moderated" extends="xPDOSimpleObject">
        <field key="user" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="reason" dbtype="mediumint" precision="5" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="register_ip" dbtype="varchar" precision="20" phptype="string" null="false" default="0.0.0.0" />

        <index alias="user" name="user" primary="false" unique="false" type="BTREE">
            <column key="user" length="" collation="A" null="false" />
        </index>
        
        <aggregate alias="User" class="disUser" local="user" foreign="id" cardinality="one" owner="foreign" />
    </object>
    
    <object class="disUserNotification" table="discuss_user_notifications" extends="xPDOSimpleObject">
        <field key="user" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="board" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />
        <field key="thread" dbtype="int" precision="10" phptype="integer" attributes="unsigned" default="0" null="false" index="index" />

        <index alias="user" name="user" primary="false" unique="false" type="BTREE">
            <column key="user" length="" collation="A" null="false" />
        </index>
        <index alias="board" name="board" primary="false" unique="false" type="BTREE">
            <column key="board" length="" collation="A" null="false" />
        </index>
        <index alias="thread" name="threadr" primary="false" unique="false" type="BTREE">
            <column key="thread" length="" collation="A" null="false" />
        </index>
        
        <aggregate alias="User" class="disUser" local="user" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Board" class="disBoard" local="board" foreign="id" cardinality="one" owner="foreign" />
        <aggregate alias="Thread" class="disThread" local="post" foreign="id" cardinality="one" owner="foreign" />
    </object>


    <!-- Logging -->
    <object class="disForumActivity" table="discuss_forum_activity" extends="xPDOSimpleObject">
        <field key="day" dbtype="date" phptype="date" null="false" index="index" />
        <field key="hits" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="topics" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="replies" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="registers" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />
        <field key="visitors" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" />

        <index alias="day" name="day" primary="false" unique="false" type="BTREE">
            <column key="day" length="" collation="A" null="false" />
        </index>
    </object>

    <object class="disLogActivity" table="discuss_log_activity" extends="xPDOSimpleObject">
        <field key="createdon" dbtype="datetime" phptype="datetime" null="true" />
        <field key="user" dbtype="int" precision="10" phptype="integer" attributes="unsigned" null="false" default="0" index="index" />
        <field key="ip" dbtype="varchar" precision="20" phptype="string" null="true" />
        <field key="action" dbtype="varchar" precision="100" phptype="string" null="false" default="" />
        <field key="data" dbtype="mediumtext" phptype="string" null="true" />
        <field key="url" dbtype="text" phptype="string" null="true" />

        <index alias="user" name="user" primary="false" unique="false" type="BTREE">
            <column key="user" length="" collation="A" null="false" />
        </index>

        <aggregate alias="User" class="disUser" local="user" foreign="id" cardinality="one" owner="foreign" />
    </object>
</model>
